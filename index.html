<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class Attendance </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f5f7fa;
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .status-present {
            background-color: #d1fae5;
            color: #065f46;
        }
        
        .status-absent {
            background-color: #fee2e2;
            color: #991b1b;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <!-- Header Section -->
    <header class="bg-indigo-600 text-white py-6 shadow-lg">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/7b16b074-ad40-4111-8144-1c7497f8ba96.png" alt="University logo with modern circular design in white and indigo colors" class="h-10 w-10 rounded-full" />
                    <h1 class="text-2xl font-bold">Attendance </h1>
                </div>
                <div class="flex items-center space-x-4">
                    <span id="current-date" class="font-medium"></span>
                    <span id="current-time" class="font-medium"></span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto">
            <!-- Status Message -->
            <div id="status-message" class="hidden mb-6 p-4 rounded-lg text-center"></div>
            
            <div class="flex flex-col md:flex-row gap-6">
                <!-- Student Input Section -->
                <div class="w-full md:w-1/2 bg-white rounded-xl shadow-md overflow-hidden p-6 card-hover">
                    <h2 class="text-xl font-semibold mb-4 text-gray-800">Mark Your Attendance</h2>
                    
                    <div class="space-y-4">
                        <div>
                            <label for="student-id" class="block text-sm font-medium text-gray-700 mb-1">Student Surname</label>
                            <input type="text" id="student-id" placeholder="Enter your student surname" 
                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition">
                        </div>
                        
                        <div>
                            <label for="course-select" class="block text-sm font-medium text-gray-700 mb-1">Strand</label>
                            <select id="course-select" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition">
                                <option value="">Select a course</option>
                                
                                <option value="ICT">ICT - Information Communications and Technology</option>
                                <option value="HUMMS">HUMMS - Humanities and Social Challenges</option>
                                <option value="ABM">ABM - Accountancy, Business and Managemeny</option>
                               
                            </select>
                        </div>
                        
                        <div class="flex space-x-4 pt-2">
                            <button id="present-btn" class="flex-grow bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-medium transition duration-300">
                                Present
                            </button>
                            <button id="absent-btn" class="flex-grow bg-red-500 hover:bg-red-600 text-white py-3 rounded-lg font-medium transition duration-300">
                                Absent
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Recent Attendance Section -->
                <div class="w-full md:w-1/2 bg-white rounded-xl shadow-md overflow-hidden p-6 card-hover">
                    <h2 class="text-xl font-semibold mb-4 text-gray-800">Recent Attendance</h2>
                    
                    <div class="space-y-3 max-h-96 overflow-y-auto pr-2">
                        <!-- Attendance records will be added here dynamically -->
                        <div id="no-records" class="text-center py-8 text-gray-400">
                            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/ba590fa4-bffd-4ddd-8e8c-7542fc0d9150.png" alt="Empty records illustration showing a clipboard with no entries" class="mx-auto h-24 mb-4" />
                            <p>No attendance records yet</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6">
        <div class="container mx-auto px-4 text-center text-sm">
            <p>Â© 2023 University Attendance System. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // DOM Elements
        const studentIdInput = document.getElementById('student-id');
        const courseSelect = document.getElementById('course-select');
        const presentBtn = document.getElementById('present-btn');
        const absentBtn = document.getElementById('absent-btn');
        const statusMessage = document.getElementById('status-message');
        const noRecordsDiv = document.getElementById('no-records');
        const currentDateSpan = document.getElementById('current-date');
        const currentTimeSpan = document.getElementById('current-time');
        
        // Attendance records array
        let attendanceRecords = [];
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Load any existing records from local storage
            const savedRecords = localStorage.getItem('attendanceRecords');
            if (savedRecords) {
                attendanceRecords = JSON.parse(savedRecords);
                updateRecentAttendance();
            }
            
            // Update clock
            updateClock();
            setInterval(updateClock, 1000);
            
            // Setup event listeners
            setupEventListeners();
        });
        
        function updateClock() {
            const now = new Date();
            currentDateSpan.textContent = now.toLocaleDateString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            currentTimeSpan.textContent = now.toLocaleTimeString('en-US', {
                hour: '2-digit',
                minute: '2-digit'
            });
        }
        
        function setupEventListeners() {
            presentBtn.addEventListener('click', function() {
                markAttendance('present');
            });
            
            absentBtn.addEventListener('click', function() {
                markAttendance('absent');
            });
            
            // Also allow Enter key to submit
            studentIdInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    markAttendance('present');
                }
            });
        }
        
        function markAttendance(status) {
            const studentId = studentIdInput.value.trim();
            const course = courseSelect.value;
            
            // Validate inputs
            if (!studentId) {
                showStatusMessage('Please enter your student ID', 'error');
                studentIdInput.focus();
                return;
            }
            
            if (!course) {
                showStatusMessage('Please select a course', 'error');
                courseSelect.focus();
                return;
            }
            
            // Create new record
            const now = new Date();
            const record = {
                id: Date.now(),
                studentId: studentId,
                course: course,
                status: status,
                timestamp: now.toISOString(),
                formattedTime: now.toLocaleTimeString('en-US', {
                    hour: '2-digit',
                    minute: '2-digit'
                })
            };
            
            // Add to records
            attendanceRecords.unshift(record);
            
            // Limit to 50 most recent records
            if (attendanceRecords.length > 50) {
                attendanceRecords.pop();
            }
            
            // Save to local storage
            localStorage.setItem('attendanceRecords', JSON.stringify(attendanceRecords));
            
            // Update UI
            updateRecentAttendance();
            showStatusMessage(`Attendance marked as ${status} for ${studentId}`, 'success');
            
            // Clear inputs
            studentIdInput.value = '';
            courseSelect.value = '';
            studentIdInput.focus();
        }
        
        function updateRecentAttendance() {
            if (attendanceRecords.length === 0) {
                noRecordsDiv.classList.remove('hidden');
                return;
            }
            
            noRecordsDiv.classList.add('hidden');
            
            const container = document.querySelector('.space-y-3');
            container.innerHTML = '';
            
            attendanceRecords.forEach(record => {
                const recordDiv = document.createElement('div');
                recordDiv.className = `p-3 rounded-lg flex justify-between items-center fade-in ${record.status === 'present' ? 'status-present' : 'status-absent'}`;
                recordDiv.innerHTML = `
                    <div class="flex-1">
                        <div class="font-medium">${record.studentId}</div>
                        <div class="text-sm text-gray-600">${record.course}</div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="text-sm">${record.formattedTime}</span>
                        <span class="px-2 py-1 text-xs rounded-full ${record.status === 'present' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                            ${record.status.charAt(0).toUpperCase() + record.status.slice(1)}
                        </span>
                    </div>
                `;
                container.appendChild(recordDiv);
            });
        }
        
        function showStatusMessage(message, type) {
            statusMessage.textContent = message;
            statusMessage.className = `mb-6 p-4 rounded-lg text-center font-medium`;
            
            if (type === 'success') {
                statusMessage.classList.add('bg-green-100', 'text-green-800');
            } else if (type === 'error') {
                statusMessage.classList.add('bg-red-100', 'text-red-800');
            }
            
            statusMessage.classList.remove('hidden');
            
            // Hide message after 3 seconds
            setTimeout(() => {
                statusMessage.classList.add('hidden');
            }, 3000);
        }
    </script>
</body>
</html>


